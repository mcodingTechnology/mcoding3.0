var buijs={$:function(i){return"string"==typeof i?"#"==i[0]?document.getElementById(i.split("#")[1]):"."==i[0]?document.getElementsByClassName(i.split(".")[1]):document.getElementsByTagName(i):void 0},ready:function(i){window.onload;"function"!=typeof window.onload?setTimeout(function(){window.onload=i()},300):setTimeout(function(){window.onload=function(){oldonload(),i()}},300)},extend:function(){function i(t){if("object"!=typeof t)return t;if(null==t)return t;var e=new Object;for(var s in t)e[s]=i(t[s]);return e}var t=arguments;if(t.length<2)return!1;for(var e=i(t[0]),s=1;s<t.length;s++)for(var a in t[s])e[a]=t[s][a];return e},ajax:{get:function(i){var t={url:null,data:null,beforeSend:function(i){},complete:function(i){},error:function(i){},success:function(i){}},e=buijs.extend(t,i),s=new XMLHttpRequest;s.open("GET",e.url,!0),s.onreadystatechange=function(){2==s.readyState&&"function"==typeof e.beforeSend&&e.beforeSend(this),4==s.readyState&&("function"==typeof e.complete&&e.complete(this),200==s.status||304==s.status?"function"==typeof e.success&&e.success(s.responseText):404!=s.status&&500!=s.status||"function"==typeof e.error&&e.error(this))},s.send(null)},post:function(i){var t={url:null,data:null,beforeSend:function(i){},complete:function(i){},error:function(i){},success:function(i){}},e=buijs.extend(t,i),s=new XMLHttpRequest;s.open("POST",e.url,!0),s.setRequestHeader("Content-type","application/json"),s.onreadystatechange=function(){2==s.readyState&&"function"==typeof e.beforeSend&&e.beforeSend(this),4==s.readyState&&("function"==typeof e.complete&&e.complete(this),200==s.status||304==s.status?"function"==typeof e.success&&e.success(s.responseText):404!=s.status&&500!=s.status||"function"==typeof e.error&&e.error(this))},s.send("string"==typeof e.data?e.data:JSON.stringify(e.data))}},innerHtml:function(i,t,e){i.innerHTML=t,(i.getElementsByTagName("script")||[]).forEach(function(i){console.log(i)})},resize:function(i,t){i.map(function(i,e){var s=$(this),a=s.width(),o=s.height(),n=setInterval(function(){if(0!=$(document).find(s).length){if(a===s.width()&&o===s.height())return!1;"function"==typeof t&&t(s),a=s.width(),o=s.height()}else clearInterval(n)},0)})},hover:function(i,t,e,s){i.attr("bui_hover_type","out"),i.attr("bui_hover_ison","false"),i.data({hovertype:"out",hoverison:!1}),i.hover(function(){var i=$(this);i.data().hovertype="in",setTimeout(function(){"in"==i.data().hovertype&&t&&(t(i),i.data().hoverison=!1)},s||100)},function(){var i=$(this);i.data().hovertype="out",setTimeout(function(){i.data().hoverison&&e&&(e(i),i.data().hoverison=!1)},s||100)})},file:{add:function(i,t,e){if("css"==t)if(0==$("head link[href='"+i+"']").length){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=i,$("head:first").append(s),setTimeout(function(){"function"==typeof e&&e()},0)}else setTimeout(function(){"function"==typeof e&&e()},0);else if("js"==t)if(0==$("head script[src='"+i+"']").length){var a=document.createElement("script");a.type="text/javascript",a.src=i,$("head:first").append(a),$.ajax({type:"get",url:i,async:!0,cache:!0,dataType:"script",error:function(){},success:function(){"function"==typeof e&&e()}})}else setTimeout(function(){"function"==typeof e&&e()},0)},remove:function(i,t,e){"css"==t?0==$("head link[href='"+i+"']").length?setTimeout(function(){"function"==typeof e&&e()},0):($("head link[href='"+i+"']").remove(),setTimeout(function(){"function"==typeof e&&e()},0)):"js"==t&&(0==$("head script[src='"+i+"']").length?setTimeout(function(){"function"==typeof e&&e()},0):($("head script[src='"+i+"']").remove(),setTimeout(function(){"function"==typeof e&&e()},0)))}},getUrl:function(i){var t=new RegExp("(^|&)"+i+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(t);return null!=e?unescape(e[2]):null},hash:{get:function(i){var t={};window.location.hash&&$.map(window.location.hash.split("#"),function(i){i&&(t=buijs.extend(t,JSON.parse('{"'+i.split("=")[0]+'":"'+i.split("=")[1]+'"}')))}),i&&i(t)},set:function(i){buijs.hash.get(function(t){var e=buijs.extend(t,i),s="";$.each(e,function(i,t){s+="#"+i+"="+t}),window.location.href=s})}},modal:{add:function(i){var t={setid:"bui_modal_"+($("[bui_modal]").length+1),header:"default",footer:null,boxClass:"bui_bgc_white bui_shadow bui_shadow_24 bui_fc_black",headerClass:"bui_bds_1_b bui_bdc_silver_l",footerClass:"bui_bds_1_t",positions:"top",effectIn:null,effectOut:null,title:"system alert！",content:'<div class="bui_p_24 bui_ta_c"><i class="fa fa-circle-o-notch fa-spin bui_fs_24 bui_fc_silver"></i></div>',ajaxload:null,width:"480px",height:"auto",isClose:!0,isRemove:!0,showAfter:function(){},closeAfter:function(){},trueAfter:function(i){},falseAfter:function(i){}},e=buijs.extend(t,i);e.effectIn||(-1!=e.positions.indexOf("side")?-1!=e.positions.indexOf("top")?e.effectIn="bui_am_slideDownIn":-1!=e.positions.indexOf("bottom")?e.effectIn="bui_am_slideUpIn":-1!=e.positions.indexOf("left")?e.effectIn="bui_am_slideRightIn":-1!=e.positions.indexOf("right")&&(e.effectIn="bui_am_slideLeftIn"):-1!=e.positions.indexOf("top")?e.effectIn="bui_am_slideDownIn":-1!=e.positions.indexOf("bottom")?e.effectIn="bui_am_slideUpIn":e.effectIn="bui_am_zoomIn"),e.effectOut||(-1!=e.positions.indexOf("side")?-1!=e.positions.indexOf("top")?e.effectOut="bui_am_slideDownOut":-1!=e.positions.indexOf("bottom")?e.effectOut="bui_am_slideUpOut":-1!=e.positions.indexOf("left")?e.effectOut="bui_am_slideRightOut":-1!=e.positions.indexOf("right")&&(e.effectOut="bui_am_slideLeftOut"):-1!=e.positions.indexOf("top")?e.effectOut="bui_am_slideDownOut":-1!=e.positions.indexOf("bottom")?e.effectOut="bui_am_slideUpOut":e.effectOut="bui_am_zoomOut"),buijs.modal.sethtml(e),$(window).bind("resize",function(){$("[bui_modal]").length>0&&buijs.modal.resize()})},sethtml:function(i){function t(){setTimeout(function(){return $("#"+i.setid).data().height=-1!=i.height.indexOf("%")?i.height:$("#"+i.setid).height()+"px",buijs.modal.resize(),$("#"+i.setid).removeClass(i.effectOut).addClass(i.effectIn).attr({active:!0}),i.showAfter(),!1},100)}0==$("[bui_modal_mask]").length&&($("body").append('<div bui_modal_mask buijs_modal_close class="bui_bgc_black_f"   style="position:fixed;top:0;bottom:0;left:0;right:0;z-index:1;"></div>'),$("[bui_modal_mask]").addClass("bui_am_fadeIn"));var e=0==$("[bui_modal][active='true']").length?[Number($("[bui_modal_mask]:first").css("z-index"))+1]:[Number($("[bui_modal]:first").css("z-index"))+1],s="";if(i.header)if("default"==i.header){var a=1==i.isClose?'<a href="javascript:;" class="bui_btn bui_btn_24 bui_btn_sq bui_bds_0 bui_m_8" buijs_modal_close='+i.setid+'><i class="fa fa-close"></i></a>':'<div class="bui_btn_32 bui_btns_q bui_m_8"></div>';s='<div class="bui_media bui_vm bui_ta_c">\t<div class="bui_media_l">\t\t<div class="bui_btn bui_btn_32 bui_btn_sq bui_m_8"></div>\t</div>\t<div class="bui_media_b">\t\t<p>'+i.title+'</p>\t</div>\t<div class="bui_media_r">'+a+"</div></div>"}else s=i.header;else i.headerClass="",s="";var o="";i.footer?o="ask"==i.footer?'<div class="bui_ta_r bui_ts_12  bui_p_12"><button class="bui_btn bui_bgc_silver bui_m_8_l" buijs_modal_false>cancel</button><button class="bui_btn bui_bgc_turquoise bui_m_8_l" buijs_modal_true>Done</button></div>':"tips"==i.footer?'<div class="bui_ta_r bui_ts_12 bui_p_12"><button class="bui_btn bui_bgc_turquoise bui_m_8_l" buijs_modal_true>I got it!</button>':i.footer:(i.footerClass="",o=""),0==$("#"+i.setid).length?$("[bui_modal_mask]").after('<div bui_modal id="'+i.setid+'"><div bui_modal_h class="'+i.headerClass+'">'+s+'</div><div bui_modal_b style="overflow-x:hidden;overflow-y:auto;">'+i.content+'</div><div bui_modal_f class="'+i.footerClass+'">'+o+"</div></div>"):($("#"+i.setid).attr("bui_modal","").insertAfter("[bui_modal_mask]"),0==$("#"+i.setid).children("[bui_modal_b]").length&&$("#"+i.setid).wrapInner('<div bui_modal_b  style="overflow-x:hidden;overflow-y:auto;"></div>'),0==$("#"+i.setid).children("[bui_modal_h]").length&&$("#"+i.setid).prepend('<div bui_modal_h class="'+i.headerClass+'">'+s+"</div>"),0==$("#"+i.setid).children("[bui_modal_f]").length&&$("#"+i.setid).append('<div bui_modal_f class="'+i.footerClass+'">'+o+"</div>")),$("#"+i.setid).data(i).addClass(i.boxClass).css({position:"fixed",display:"block",width:i.width,height:i.height,"z-index":e,left:"-9999px",top:"-9999px"}),i.ajaxload?$("#"+i.setid).attr("bui_modal_url",i.ajaxload).find("[bui_modal_b]").load(i.ajaxload,function(){t()}):t(),$("[buijs_modal_close]").unbind().bind("click",function(){buijs.modal.remove($(this).parents("[bui_modal]").attr("id"))}),$("#"+i.setid+" [buijs_modal_true]").bind("click",function(){buijs.modal.remove($(this).parents("[bui_modal]").attr("id")),i.trueAfter(i)}),$("#"+i.setid+" [buijs_modal_false]").bind("click",function(){buijs.modal.remove($(this).parents("[bui_modal]").attr("id")),i.falseAfter(i)})},resize:function(){-1!=$("[bui_modal]").length&&$("[bui_modal]").map(function(){var i=$(this),t=i.children("[bui_modal_h]"),e=i.children("[bui_modal_b]"),s=i.children("[bui_modal_f]"),a=i.data();-1!=a.positions.indexOf("side")?(i.css({width:-1!=a.positions.indexOf("top")||-1!=a.positions.indexOf("bottom")?$(window).width():a.width,top:-1!=a.positions.indexOf("top")||-1!=a.positions.indexOf("left")||-1!=a.positions.indexOf("right")?0:"auto",bottom:-1!=a.positions.indexOf("bottom")||-1!=a.positions.indexOf("left")||-1!=a.positions.indexOf("right")?0:"auto",left:-1!=a.positions.indexOf("left")||-1!=a.positions.indexOf("top")||-1!=a.positions.indexOf("bottom")?0:"auto",right:-1!=a.positions.indexOf("right")||-1!=a.positions.indexOf("top")||-1!=a.positions.indexOf("bottom")?0:"auto"}),-1==a.positions.indexOf("right")&&-1==a.positions.indexOf("left")||(-1!=a.width.indexOf("%")?i.width(a.width):i.width(parseInt(a.width)>=$(window).width()?$(window).width():a.width)),-1==a.positions.indexOf("top")&&-1==a.positions.indexOf("bottom")||(-1!=a.height.indexOf("%")?i.height(a.height):i.height(parseInt(a.height)>=$(window).height()?$(window).height():a.height))):(-1!=a.width.indexOf("%")?i.width(a.width):parseInt(a.width)>=$(window).width()-32?i.width($(window).width()-32):i.width(a.width),-1!=a.height.indexOf("%")?i.height(a.height):parseInt(a.height)>=$(window).height()-32?i.height($(window).height()-32):i.height(a.height),-1!=a.positions.indexOf("top")?(i.css({top:"1rem",bottom:"auto"}),-1!=a.positions.indexOf("left")?i.css({left:"1rem",right:"auto"}):-1!=a.positions.indexOf("right")?i.css({right:"1rem",left:"auto"}):i.css({left:[$(window).width()-i.width()]/2,right:"auto"})):-1!=a.positions.indexOf("bottom")?(i.css({bottom:"1rem",top:"auto"}),-1!=a.positions.indexOf("left")?i.css({left:"1rem",right:"auto"}):-1!=a.positions.indexOf("right")?i.css({right:"1rem",left:"auto"}):i.css({left:[$(window).width()-i.width()]/2,right:"auto"})):(i.css({top:[$(window).height()-i.height()]/2+"px",bottom:"auto"}),-1!=a.positions.indexOf("left")?i.css({left:"1rem",right:"auto"}):-1!=a.positions.indexOf("right")?i.css({right:"1rem",left:"auto"}):i.css({left:[$(window).width()-i.width()]/2,right:"auto"}))),e.css({height:i.height()-t.height()-s.height()+"px"})})},remove:function(i){var t=i?$("#"+i):$("[bui_modal]");t.map(function(){var i=$(this);i.removeClass(t.data().effectIn).addClass(t.data().effectOut).attr("active",!1),setTimeout(function(){0!=t.data().isRemove&&"false"!=t.data().isRemove?i.remove():(i.attr("style","display: none;"),i.removeClass(i.data().effectOut))},300)}),$("[bui_modal][active=true]").length<=0&&($("[bui_modal_mask]").removeClass("bui_am_fadeIn").addClass("bui_am_fadeOut"),setTimeout(function(){$("[bui_modal_mask]").remove()},300),$(window).unbind("resize"))}},alert:{length:0,add:function(i){var t={setid:"buijs_alert_"+ ++buijs.alert.length,positions:"middle,center",boxClass:"bui_bgc_black_f bui_fc_white",timeout:3e3,content:'<i class="fa fa-circle-o-notch fa-spin"></i>',effectIn:"bui_am_zoomIn",effectOut:"bui_am_zoomOut",zindex:$("[bui_modal]").length>0?$("[bui_modal]:first").css("z-index"):1e4},e=buijs.extend(t,i);0==$("[bui_alert_box='"+e.positions+"']").length&&$("body").append('<div bui_alert_box="'+e.positions+'" style="position:fixed; max-width: 100%; overflow:visible; transition: all 0.3s; z-index:'+[e.zindex+1]+'"></div>');var s='<li bui_alert_item bui_alert_effectin="'+e.effectIn+'" bui_alert_effectout="'+e.effectOut+'" class="bui_ta_c" id="'+e.setid+'" style="display:none;cursor: pointer;margin:12px;"><div class="bui_p_12 '+e.boxClass+'"><div class="bui_plr_24">'+e.content+"</div></div></li>";-1!=e.positions.indexOf("middle")||-1!=e.positions.indexOf("top")?($("[bui_alert_box='"+e.positions+"']").append(s),$("[bui_alert_box='"+e.positions+"']").height()>=$(window).height()-128&&$("[bui_alert_box='"+e.positions+"'] > [bui_alert_item]:first").remove()):-1!=e.positions.indexOf("bottom")&&($("[bui_alert_box='"+e.positions+"']").prepend(s),$("[bui_alert_box='"+e.positions+"']").height()>=$(window).height()-128&&$("[bui_alert_box='"+e.positions+"'] > [bui_alert_item]:last-child").remove()),$("[bui_alert_box='"+e.positions+"']").find("#"+e.setid).show(0,function(){$(this).addClass($(this).attr("bui_alert_effectin")),buijs.alert.resize(e)}),$("li#"+e.setid).click(function(){buijs.alert.close(e)}),null!=e.timeout&&0!=e.timeout&&setTimeout(function(){return buijs.alert.close(e),!1},e.timeout),$(window).bind("resize",function(){$("[bui_alert_box]").length>=1&&buijs.alert.resize(e)})},resize:function(i){$("[bui_alert_item]").css({"max-width":$(window).width()-32,"max-height":[$(window).height()-32]}),$("[bui_alert_box]").map(function(i){-1!=$(this).attr("bui_alert_box").indexOf("top")?($(this).css({top:"1rem",left:[$(window).width()-$(this).width()]/2}),-1!=$(this).attr("bui_alert_box").indexOf("left")?$(this).css({left:"1rem"}):-1!=$(this).attr("bui_alert_box").indexOf("right")&&$(this).css({left:"",right:"1rem"})):-1!=$(this).attr("bui_alert_box").indexOf("middle")?($(this).css({top:[$(window).height()-$(this).height()]/2,left:[$(window).width()-$(this).width()]/2}),-1!=$(this).attr("bui_alert_box").indexOf("left")?$(this).css({left:"1rem"}):-1!=$(this).attr("bui_alert_box").indexOf("right")&&$(this).css({left:"",right:"1rem"})):-1!=$(this).attr("bui_alert_box").indexOf("bottom")&&($(this).css({bottom:"1rem",left:[$(window).width()-$(this).width()]/2}),-1!=$(this).attr("bui_alert_box").indexOf("left")?$(this).css({left:"1rem"}):-1!=$(this).attr("bui_alert_box").indexOf("right")&&$(this).css({left:"",right:"1rem"}))})},close:function(i){(i&&i.setid?$("#"+i.setid):$("[bui_alert_item]")).map(function(){var t=$(this),e=t.parents("[bui_alert_box]");t.removeClass(t.attr("buijs_alert_effectin")).addClass(t.attr("bui_alert_effectout")),setTimeout(function(){if(t.remove(),buijs.alert.resize(i),0==e.children().length)return e.remove(),!1},300)})}},accordion:{add:function(i,t){if(!(i.length>0))return!1;$(i).map(function(i,e){var s=$(this),a={index:0,closeOther:!0,activeClassName:"",events:"click",speed:300},o=buijs.extend(a,t,s.data());s.find("[bui_accordion_item]").map(function(i,t){var e=$(this),a=$(this).children("[bui_accordion_item_title]"),n=$(this).children("[bui_accordion_item_content]");if(a.css("cursor","pointer"),n.hide(),"click"==o.events)a.unbind().bind("click",function(){var i=$(this).parent("[bui_accordion_item]"),t=i.siblings("[bui_accordion_item]");i.toggleClass("active "+o.activeClassName),o.closeOther&&t.removeClass("active "+o.activeClassName),buijs.accordion.action(s)});else if("hover"==o.events){var r=(e=$(this)).siblings("[bui_accordion_item]");buijs.hover(e,function(){e.addClass("active "+o.activeClassName),o.closeOther&&r.removeClass("active "+o.activeClassName),buijs.accordion.action(s)},function(){return!1})}}),0==s.children(".active").length&&s.children("[bui_accordion_item]").eq(o.index).addClass("active "+o.activeClassName),buijs.accordion.action(s,!0)})},action:function(i,t){i.find("[bui_accordion_item]").map(function(){var e=$(this).children("[bui_accordion_item_content]");$(this).hasClass("active")?t?e.show(0):e.slideDown(i.data().speed):setTimeout(function(){t?e.hide(0):e.slideUp(i.data().speed)},0)})}},dropdown:{add:function(i,t){i.map(function(i){var e={positions:"bottom,left",width:240,height:"auto",event:"click",boxClass:"",content:""},s=$(this),a=(s.children("[buijs_dropdown_btn]"),s.children("[buijs_dropdown_box]")),o=s.data(),n=buijs.extend(e,t,o);s.attr("buijs_dropdown",JSON.stringify(n)),s.css({display:"inline-block",position:"relative"}),a.css({position:"absolute",display:"none",width:n.width}).addClass(n.boxClass),buijs.dropdown.resize(s),"hover"==n.event&&buijs.hover(s,function(){buijs.dropdown.close($("[buijs_dropdown]").not(s)),buijs.dropdown.open(s)},function(){buijs.dropdown.close(s)})}),$(document).on({click:function(i){var t=$(i.target).closest("[buijs_dropdown]");0!=t.length?(buijs.dropdown.close($("[buijs_dropdown]").not(t)),buijs.dropdown.open(t)):buijs.dropdown.close()}})},resize:function(i,t){var e=JSON.parse(i.attr("buijs_dropdown")),s=i.children("[buijs_dropdown_btn]"),a=i.children("[buijs_dropdown_box]"),o=s.width()+Number(s.css("padding-left").replace(/[^0-9]/gi,""))+Number(s.css("padding-right").replace(/[^0-9]/gi,"")),n=a.width()+Number(a.css("padding-left").replace(/[^0-9]/gi,""))+Number(a.css("padding-right").replace(/[^0-9]/gi,""));a.css({top:-1!=e.positions.indexOf("bottom")?"100%":"",bottom:-1!=e.positions.indexOf("top")?"100%":"",left:-1!=e.positions.indexOf("left")?0:-1!=e.positions.indexOf("right")?o-n:[o-n]/2,overflow:"auto"}),t&&t()},open:function(i,t){var e=(i=i||$("[buijs_dropdown]")).children("[buijs_dropdown_box]");$("[buijs_dropdown]").css("z-index","auto"),i.css({"z-index":1}),e.slideDown(300),setTimeout(function(){t&&t()},300)},close:function(i,t){((i=i||$("[buijs_dropdown]"))?i.children("[buijs_dropdown_box]"):$("[buijs_dropdown_box]")).slideUp(300),setTimeout(function(){i.removeClass("active")},300)}},formcheck:{add:function(i,t){i.map(function(){var i=$(this),e=i.find("[buijs_formcheck_type]"),s={error:function(){buijs.alert.add({content:"Not complete!",boxClass:"bui_bgc_red bui_fc_white"}),console.log("Not complete！")},success:function(){buijs.alert.add({content:"complete!",boxClass:"bui_bgc_turquoise bui_fc_white"}),console.log("complete！")}},a=buijs.extend(s,t);e.map(function(){var i=$(this),t=i.attr("buijs_formcheck_type");-1!=t.indexOf("checkbox")?i.find("label").on("click",function(){buijs.formcheck.check(i)}):"select"==t?i.bind("mouseup",function(){buijs.formcheck.check(i)}):i.bind("input propertychange",function(){buijs.formcheck.check(i)})}),i.bind({submit:function(t){t.preventDefault(),e.map(function(){buijs.formcheck.check($(this))}),setTimeout(function(){i.find('[buijs_formcheck_check="error"]').length<=0?a.success():a.error()},0)},reset:function(i){setTimeout(function(){e.map(function(){buijs.formcheck.check($(this))})},0)}})})},check:function(i){function t(){s.attr("buijs_formcheck_check","success"),a.el.removeClass(a.style.error).addClass(a.style.success),o.el.html(o.content.success),o.el.removeClass(o.style.error).addClass(o.style.success)}function e(){s.attr("buijs_formcheck_check","error"),a.el.removeClass(a.style.success).addClass(a.style.error),o.el.html(o.content.error),o.el.removeClass(o.style.success).addClass(o.style.error)}var s=$(i),a={el:s.find(".bui_ipt:first"),input:s.find("input:first,select:first,textarea:first"),style:{success:s.data().iptclass?s.data().iptclass.split(",")[0]:"bui_bdc_turquoise",error:s.data().iptclass?s.data().iptclass.split(",")[1]:"bui_bdc_red"}},o={el:s.find("[buijs_formcheck_tips]:first"),content:{success:s.data().tipcontent?s.data().tipcontent.split(",")[0]:'<i class="fa fa-check fa-fw"></i>',error:s.data().tipcontent?s.data().tipcontent.split(",")[1]:'<i class="fa fa-close fa-fw"></i>'},style:{success:s.data().tipclass?s.data().tipclass.split(",")[0]:"bui_fc_turquoise",error:s.data().tipclass?s.data().tipclass.split(",")[1]:"bui_fc_red"}};if(-1!=s.attr("buijs_formcheck_type").indexOf("mobile")&&(a.input.attr("maxlength",11),1==(n=/1[3-8]+\d{9}/).test(a.input.val())&&11==a.input.val().length?t():e()),-1!=s.attr("buijs_formcheck_type").indexOf("email")){n=/^([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+\.[A-Za-z0-9]+$/;-1!=a.input.val().search(n)?t():e()}if(-1!=s.attr("buijs_formcheck_type").indexOf("url")){-1!=a.input.val().indexOf("://")&&a.input.val(a.input.val().split("://")[1]);var n=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/;-1!=a.input.val().search(n)?t():e()}if(-1!=s.attr("buijs_formcheck_type").indexOf("match")&&(a.input.val()==labelData.match?t():e()),-1!=s.attr("buijs_formcheck_type").indexOf("number")||-1!=s.attr("buijs_formcheck_type").indexOf("letter")||-1!=s.attr("buijs_formcheck_type").indexOf("cn")){var r="",d="",u="";-1!=s.attr("buijs_formcheck_type").indexOf("number")&&(r="0-9.-"),-1!=s.attr("buijs_formcheck_type").indexOf("letter")&&(d="A-Za-z"),-1!=s.attr("buijs_formcheck_type").indexOf("cn")&&(u="一-﨩");var c="^["+r+d+u+"]*$";(n=new RegExp(c)).test(a.input.val())&&""!=a.input.val()?t():e()}if(-1!=s.attr("buijs_formcheck_type").indexOf("length")){var l=s.attr("buijs_formcheck_type").split(",")[1],b=s.attr("buijs_formcheck_type").split(",")[2];a.input.attr("maxlength",b),a.input.val().length>=Number(l)&&a.input.val().length<=Number(b)?t():e()}if(-1!=s.attr("buijs_formcheck_type").indexOf("select")&&(a.input.val()&&""!=a.input.val()&&null!=a.input.val()&&"null"!=a.input.val()&&0!=a.input.val()&&"false"!=a.input.val()?t():e()),-1!=s.attr("buijs_formcheck_type").indexOf("checkbox")){var l=s.attr("buijs_formcheck_type").split(",")[1],b=s.attr("buijs_formcheck_type").split(",")[2];s.find("input:checked").length>=Number(l)&&s.find("input:checked").length<=Number(b)?t():e()}}},scroll:function(i,t){$(i).map(function(){var i=$(this),e=i.data(),s={action:function(){},atTop:function(){},atBottom:function(){},objInBox:{el:null,on:function(i){},out:function(i){}},objInBoxAction:function(){}},a=buijs.extend(s,t,e);0==i.children("[buijs-scroll-wrap]")&&i.wrapInner("<div buijs-scroll-wrap></div>"),i.unbind().bind("scroll",function(){"function"==typeof a.action&&a.action(i),0==i.scrollTop()&&"function"==typeof a.atTop&&a.atTop(i),i.scrollTop()+i.height()==i.children("[buijs-scroll-wrap]").height()&&"function"==typeof a.atBottom&&a.atBottom(i),a.objInBox&&i.find(a.objInBox.el).map(function(){if($(this).length>0){var t=$(this),e=t.offset().top,s=t.height()+Number(t.css("padding-top").replace(/[^0-9]/gi,""))+Number(t.css("padding-bottom").replace(/[^0-9]/gi,""))+Number(t.css("border-top-width").replace(/[^0-9]/gi,""))+Number(t.css("border-bottom-width").replace(/[^0-9]/gi,""));boxT=i.offset().top,boxH=i.height()+Number(i.css("padding-top").replace(/[^0-9]/gi,""))+Number(i.css("padding-bottom").replace(/[^0-9]/gi,""))+Number(i.css("border-top-width").replace(/[^0-9]/gi,""))+Number(i.css("border-bottom-width").replace(/[^0-9]/gi,"")),e-boxT<boxH&&e-boxT+s>0?"function"==typeof a.objInBox.on&&a.objInBox.on(t):"function"==typeof a.objInBox.out&&a.objInBox.out(t)}})})})},img:{adapt:{set:function(i,t){$(i).map(function(){var i=$(this),e=i.children("img"),s={ratio:"4:3",type:"cut",effect:"bui_am_fadeIn"},a=i.data(),o=buijs.extend(s,t,a);i.data("ratio",o.ratio),i.data("type",o.type),i.data("lazy",o.lazy),i.data("effect",o.effect),i.css({widht:"100%",display:"block"}),e.css({position:"absolute",opacity:0}),buijs.img.adapt.boxResize(i),buijs.resize(i,function(){buijs.img.adapt.boxResize(i)})})},boxResize:function(i){var t=$(i),e=t.children("img"),s=t.data();if(t.css({position:"relative",overflow:"hidden",height:t.width()*[s.ratio.split(":")[1]/s.ratio.split(":")[0]]}),!e.attr("src")&&e.attr("data-src"))buijs.img.lazyload.set(e,{success:function(){setTimeout(function(){buijs.img.adapt.imgResize(t)},300)}});else{var a=new Image;a.src=e.attr("src");var o=self.setInterval(function(){1==$(a)[0].complete&&(buijs.img.adapt.imgResize(t),window.clearInterval(o))},10)}},imgResize:function(i){var t=$(i),e=t.children("img"),s=t.data();"cut"==s.type?e.width()/e.height()>=t.width()/t.height()?(e.css({"max-width":"",width:"auto",height:t.height()}),e.css({top:0,left:[t.width()-e.width()]/2})):(e.css({height:"auto",width:t.width()}),e.css({left:0,top:[t.height()-e.height()]/2})):e.width()/e.height()>=t.width()/t.height()?(e.css({height:"auto",width:t.width()}),e.css({left:0,top:[t.height()-e.height()]/2})):(e.css({width:"auto",height:t.height()}),e.css({top:0,left:[t.width()-e.width()]/2})),setTimeout(function(){e.addClass(s.effect)},0)}},lazyload:{set:function(i,t){$(i).map(function(){var i=$(this),e={success:function(i){}},s=i.data(),a=buijs.extend(e,t,s);i.css("max-width","100%").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwAQMAAABL4y8oAAAAA3NCSVQICAjb4U/gAAAABlBMVEX///////9VfPVsAAAAAnRSTlMA/1uRIrUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDMvMDcvMTc1nWGmAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAACBJREFUaIHtwYEAAAAAw6D5Ux/hAlUBAAAAAAAAAADANyZwAAH7NAElAAAAAElFTkSuQmCC").addClass(a.imgClass);var o=self.setInterval(function(){if(0==$(i).is(":hidden")&&$(i).offset().top<$(window).height()-$(i).height()&&$(i).offset().left<$(window).width()-$(i).width()){window.clearInterval(o);var t=new Image;t.src=i.attr("data-src");var e=self.setInterval(function(){1==t.complete&&(window.clearInterval(e),i.attr("src",t.src),a.success(i))},300)}},300)})}}},swiper:{set:function(i,t){$(i).map(function(){var i=$(this),e={ratio:"16:9",play:0,speed:300,index:0,loop:!0,btn:!0,progress:!0,progressSize:"0.7rem",progressClass:"bui_bgc_black_f bui_bgc_yellow_f_h",progressClassActive:"bui_bgc_red_f bui_bgc_yellow_f_h",imgadapt:"cut"},s=buijs.extend(e,t,i.data());i.data(s);var a=i.children("[buijs-swiper-wrap]"),o=a.children("[buijs-swiper-item]");if(i.css({position:"relative",overflow:"hidden"}),a.attr("buijs-swiper-wrap-am",!1).css({position:"absolute",height:"100%",display:"flex"}),o.map(function(i,t){$(this).attr("buijs-swiper-item",i)}),void 0==i.attr("buijs-swiper")&&i.attr("buijs-swiper",""),1==s.loop&&(a.append('<div buijs-swiper-item="last">'+o.first().html()+"</div>"),a.prepend('<div buijs-swiper-item="first">'+o.last().html()+"</div>"),o=a.children("[buijs-swiper-item]")),1==s.progress){var n="";o.map(function(i,t){"first"!=$(this).attr("buijs-swiper-item")&&"last"!=$(this).attr("buijs-swiper-item")&&(n+='<a href="javascript:;" buijs-swiper-progress-item="'+$(this).attr("buijs-swiper-item")+'" style="width:'+s.progressSize+";height:"+s.progressSize+'" class="bui_round '+s.progressClass+' bui_block bui_m_6_tb bui_m_3_lr"></a>')}),i.append('<div buijs-swiper-progress style="width:100%;position:absolute;z-index:1;left:0;bottom:0" class="bui_ta_c bui_inline">'+n+"</div>"),i.find("[buijs-swiper-progress-item]").unbind().bind({"click touchend":function(){buijs.swiper.slideTo(i,$(this).attr("buijs-swiper-progress-item"),!0)}})}1==s.btn&&(i.append('<a href="javascript:;" data-swiper-prev class="bui_btn bui_btn_48 bui_btn_sq bui_round bui_bgc_black_f bui_bgc_yellow_f_h" style="position:absolute;left:0.75rem;top:50%;margin-top:-1.5rem;"><i class="fa fa-angle-left"></i></a><a href="javascript:;" data-swiper-next class="bui_btn bui_btn_48 bui_btn_sq bui_round bui_bgc_black_f bui_bgc_yellow_f_h" style="position:absolute;right:0.75rem;top:50%;margin-top:-1.5rem;"><i class="fa fa-angle-right"></i></a>'),i.find("[data-swiper-prev]").unbind().bind({"click touchend":function(t){buijs.swiper.slidePrev(i)}}),i.find("[data-swiper-next]").unbind().bind({"click touchend":function(t){buijs.swiper.slideNext(i)}})),s.imgadapt&&buijs.img.adapt.set(i.find("[buijs-swiper-item]"),{ratio:i.data().ratio,type:s.imgadapt}),buijs.swiper.slideTo(i,s.index,!1),buijs.swiper.resize(i),buijs.resize(i,function(){buijs.swiper.resize(i)}),s.play&&buijs.swiper.autoPlay(i,"play");var r={mousedown:!1,el:{swiper:null,wrap:null,itme:null},start:0,endX:0,startX:0,startTransform:0};$(document).unbind().bind({click:function(i){if(0!=$(i.target).parents("[buijs-swiper]").length&&(i.preventDefault(),r.endX>r.startX-10&&r.endX<r.startX+10)){var t=$(i.target).parents("[href]").attr("href"),e=$(i.target).parents("[href]").attr("target");t&&(e?window.open(t):window.location.href=t)}},"mousedown touchstart":function(i){0!=$(i.target).parents("[buijs-swiper]").length&&(i.preventDefault(),"false"==$(i.target).parents("[buijs-swiper-wrap]").attr("buijs-swiper-wrap-am")&&(r.el.wrap=$(i.target).parents("[buijs-swiper-wrap]"),r.el.swiper=r.el.wrap.parent("[buijs-swiper]"),r.el.item=r.el.wrap.children("[buijs-swiper-item]"),r.startTransform=Number(r.el.wrap.css("transform").split(",")[4])||0,r.startX=Number("mousedown"==i.type?i.pageX:i.type=i.originalEvent.changedTouches[0].pageX),r.mousedown=!0))},"mousemove touchmove":function(i){r.mousedown&&r.el.wrap.css({transform:"translateX("+[r.startTransform+Number("mousemove"==i.type?i.pageX:i.type=i.originalEvent.changedTouches[0].pageX)-r.startX]+"px)"})},"mouseup touchend":function(i){function t(){buijs.swiper.slideTo(r.el.swiper,r.el.swiper.find("[buijs-swiper-item-active=true]").attr("buijs-swiper-item"),!0)}i.preventDefault(),r.endX=Number("mouseup"==i.type?i.pageX:i.type=i.originalEvent.changedTouches[0].pageX),r.mousedown&&(r.endX<r.startX-100?0==r.el.swiper.find("[buijs-swiper-item-active=true]").next().length?t():buijs.swiper.slideNext(r.el.swiper):r.endX>r.startX+100?0==r.el.swiper.find("[buijs-swiper-item-active=true]").prev().length?t():buijs.swiper.slidePrev(r.el.swiper):t()),r.mousedown=!1}})})},resize:function(i){var t=$(i),e=t.children("[buijs-swiper-wrap]").children("[buijs-swiper-item]"),s=t.data();t.css({height:t.width()*s.ratio.split(":")[1]/s.ratio.split(":")[0]}),e.css({width:t.width()})},slideTo:function(i,t,e,s){var a=$(i),o=a.children("[buijs-swiper-wrap]"),n=o.children("[buijs-swiper-item]"),r=o.children("[buijs-swiper-item="+t+"]"),d=a.children("[buijs-swiper-progress]"),u=a.data();if("false"!=o.attr("buijs-swiper-wrap-am"))return!1;var c=-1/n.length*r.index()*100+"%";o.attr("buijs-swiper-wrap-am",!0).css({transition:e?"transform "+u.speed+"ms ease-out":null,transform:"translateX("+c+")"}),setTimeout(function(){if(1==u.progress&&d.find("[buijs-swiper-progress-item]").eq(t).addClass(u.progressClassActive).removeClass(u.progressClass).siblings().removeClass(u.progressClassActive).addClass(u.progressClass),n.attr("buijs-swiper-item-active",!1),r.attr("buijs-swiper-item-active",!0),o.attr("buijs-swiper-wrap-am",!1).css({transition:"none"}),"first"==t)buijs.swiper.slideTo(a,o.children('[buijs-swiper-item="last"]').prev().attr("buijs-swiper-item"),!1);else if("last"==t){var i=o.children('[buijs-swiper-item="first"]').next().attr("buijs-swiper-item");buijs.swiper.slideTo(a,i,!1)}"function"==typeof s&&s()},e?u.speed:0)},slidePrev:function(i,t){var e=$(i),s=e.children("[buijs-swiper-wrap]").children("[buijs-swiper-item][buijs-swiper-item-active=true]");e.data();0!=s.prev().length&&buijs.swiper.slideTo(e,s.prev().attr("buijs-swiper-item"),!0)},slideNext:function(i,t){var e=$(i),s=e.children("[buijs-swiper-wrap]").children("[buijs-swiper-item][buijs-swiper-item-active=true]");e.data();0!=s.next().length&&buijs.swiper.slideTo(e,s.next().attr("buijs-swiper-item"),!0)},autoPlay:function(i,t){function e(){s=self.setInterval(function(){buijs.swiper.slideNext(a)},o.play<400?400:o.play)}var s,a=$(i),o=a.data();e(),a.bind({mouseover:function(){window.clearInterval(s)},mouseleave:function(){e()}})}},tab:{set:function(i,t){$(i).map(function(){var i=$(this),e={index:0,events:"click",activeclassname:"bui_bds_2_b bui_bdc_red"},s=buijs.extend(e,t,i.data());i.data(s),buijs.tab.action(i),i.find("[buijs-tab-nav-item]").css("cursor","pointer"),"hover"==s.events?buijs.hover(i.find("[buijs-tab-nav-item]"),function(t){i.data().index=t.index(),buijs.tab.action(i)}):i.find("[buijs-tab-nav-item]").unbind().bind("click",function(t){i.data().index=$(this).index(),buijs.tab.action(i)})})},action:function(i){var t=$(i).find("[buijs-tab-nav-item]"),e=$(i).find("[buijs-tab-content-item]"),s=$(i).data().index<0?0:$(i).data().index>t.length-1?t.length-1:$(i).data().index;t.eq(s).addClass(i.data().activeclassname).siblings().removeClass(i.data().activeclassname),e.eq(s).show().siblings().hide()}},scrollbar:{set:function(i,t){$(i).map(function(i,e){var s=$(this),a=s.data(),o={setid:"buijs-scrollbar-"+i,positions:"right",width:4,barClass:"bui_bgc_silver_f bui_round",barBgClass:"",mousewheel:!0,touchMove:!0,barMove:!0,showAfter:function(){}},n=buijs.extend(o,t,a);s.data(n),0==s.children("[buijs-scrollbar-box]").length&&s.wrapInner("<div buijs-scrollbar-box></div>");var r=s.children("[buijs-scrollbar-box]");0==r.children("[buijs-scroll-wrap]").length&&r.wrapInner("<div buijs-scroll-wrap></div>");var d=r.children("[buijs-scroll-wrap]");0==s.children("[buijs-scrollbar-bar]").length&&(s.append("<div buijs-scrollbar-barbg></div>"),s.append("<div buijs-scrollbar-bar></div>"));var u=s.children("[buijs-scrollbar-bar]");s.children("[buijs-scrollbar-bar]");if(n.showAfter&&n.showAfter(),buijs.scrollbar.resize(s),buijs.resize(s,function(){buijs.scrollbar.resize(s)}),buijs.resize(r,function(){buijs.scrollbar.resize(s)}),buijs.resize(d,function(){buijs.scrollbar.resize(s)}),buijs.scroll(r,{action:function(){u.css({top:-d.position().top*[r.height()/d.height()]})}}),n.mousewheel){r.bind({mousewheel:function(i){i.preventDefault(),event.wheelDelta<0?r.scrollTop(32-d.position().top):r.scrollTop(-d.position().top-32)},DOMMouseScroll:function(i){i.preventDefault(),i.originalEvent.detail>0?r.scrollTop(32-d.position().top):r.scrollTop(-d.position().top-32)}})}if(n.touchMove){var c={box:null,positionTop:null,touchStartY:null,touchEndY:null,isMouse:!1,isTouch:!1};$(document).unbind().bind({"mousedown touchstart":function(i){if(0!=$(i.target).parents("[buijs-scrollbar-box]").length){var t="mousedown"==i.type?i.pageY:"touchstart"==i.type?i.originalEvent.changedTouches[0].pageY:0;c.box=$(i.target).parents("[buijs-scrollbar-box]"),c.isMouse=!0,c.touchStartY=Number(t),c.positionTop=-c.box.children("[buijs-scroll-wrap]").position().top}},"mousemove touchmove":function(i){if(1==c.isMouse){var t="mousemove"==i.type?i.pageY:"touchmove"==i.type?i.originalEvent.changedTouches[0].pageY:0;c.touchEndY=Number(t),c.box.scrollTop(c.positionTop+c.touchStartY-c.touchEndY)}},"mouseup touchend":function(i){c.isMouse=!1}})}})},resize:function(i){var t=$(i),e=t.children("[buijs-scrollbar-box]"),s=t.children("[buijs-scrollbar-bar]"),a=t.children("[buijs-scrollbar-barbg]"),o=e.children("[buijs-scroll-wrap]"),n=t.data();t.css({position:"relative",overflow:"hidden"}),e.css({overflow:"hidden",position:"absolute",left:0,right:0,top:0,bottom:0}),o.height()>e.height()?(a.css({display:"block",position:"absolute",width:n.width,top:0,bottom:0,right:0,cursor:"pointer"}).addClass(n.barBgClass),s.css({display:"block",position:"absolute",width:n.width,height:100*[e.height()/o.height()]+"%",top:-o.position().top*[e.height()/o.height()],right:0,cursor:"pointer"}).addClass(n.barClass)):(a.css("display","none"),s.css("display","none"))}},mask:{add:function(i){var t={type:"",class:"bui_bgc_silver_f",content:"",effectIn:"bui_am_zoomIn",effectOut:"bui_am_zoomOut"},e=buijs.extend(t,i);"loading"==e.type?(e.class="",e.content='<div class="bui_bgc_black_f bui_p_24 bui_radius bui_fc_white"><i class="fa fa fa-circle-o-notch fa-spin bui_fs_32"></i><p class="bui_fs_14 bui_m_6_t">loading</p></div>'):"loadingFull"==e.type&&(e.class="bui_bgc_black_f",e.content='<div class="bui_fc_white"><i class="fa fa fa-circle-o-notch fa-spin bui_fs_32"></i><p class="bui_fs_14 bui_m_6_t">loading</p></div>'),0==$("[buijs-mask]").length&&$("body").append('<div buijs-mask style="position:fixed;top:0;bottom:0;left:0;right:0;" class="'+e.class+'">\t<div style="position:relative;width:100%;height:100%;" class="bui_inline bui_ta_c bui_vm">\t\t<i style="width:0;height:100%;"></i>\t\t<div>'+e.content+'</div>\t\t<i style="width:0;height:100%;"></i>\t</div></div>'),$("[buijs-mask]").data(e).addClass(e.effectIn)},remove:function(){0!=$("[buijs-mask]").length&&($("[buijs-mask]").removeClass($("[buijs-mask]").data().effetcIn).addClass($("[buijs-mask]").data().effectOut),setTimeout(function(){$("[buijs-mask]").remove()},300))}},datetimepicker:{el:"",weekName:[{cn:"日",en:"Su"},{cn:"一",en:"Mo"},{cn:"二",en:"Tu"},{cn:"三",en:"We"},{cn:"四",en:"Th"},{cn:"五",en:"Fr"},{cn:"六",en:"Sa"}],monthName:[{cn:"一月",en:"January "},{cn:"二月",en:"February"},{cn:"三月",en:"March"},{cn:"四月",en:"April"},{cn:"五月",en:"May "},{cn:"六月",en:"June "},{cn:"七月",en:"July"},{cn:"八月",en:"August "},{cn:"九月",en:"September "},{cn:"十月",en:"October "},{cn:"十一月",en:"November"},{cn:"十二月",en:"December"}],set:function(i,t){$(i).map(function(){var i=$(this),e={date:(new Date).getFullYear()+","+[(new Date).getMonth()+1]+","+(new Date).getDate()+","+(new Date).getHours()+","+(new Date).getMinutes()+","+(new Date).getSeconds(),positions:"top",effectIn:"fadeIn",format:"date",color:"turquoise"},s=buijs.extend(e,t,i.data());i.data(s).val(s.date?buijs.datetimepicker.format(s.date,s.format):null)}),$(i).prop("readonly",!0).unbind().bind({click:function(){$("body").append(0==$("[buijs-datetimepicker-modal]").length?'<div bui_modal buijs-datetimepicker-modal id="buijs-datetimepicker-modal" class="bui_at_noline bui_ta_c" style="display:none;"><div bui_modal_h></div><div bui_modal_b style="overflow-x:hidden;overflow-y:auto;"></div><div bui_modal_f></div></div>':""),buijs.datetimepicker.el=$(this),buijs.datetimepicker.setModalObj($(this).data().date),buijs.modal.add({width:"480px",header:null,footer:null,positions:$(this).data().positions,setid:"buijs-datetimepicker-modal"})}})},format:function(i,t){var e="string"==typeof i&&-1!=i.indexOf(",")?i.split(","):[],s=6==e.length?new Date(e[0],[e[1]-1],e[2],e[3],e[4],e[5]):3==e.length?new Date(e[0],[e[1]-1],e[2]):new Date;return"unix"==t?Date.parse(s):"date"==t?s.getFullYear()+"-"+[s.getMonth()+1]+"-"+s.getDate():"datetime"==t?s.getFullYear()+"-"+[s.getMonth()+1]+"-"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds():s},setModalObj:function(t){function e(i,t){return 0==t||2==t||4==t||6==t||7==t||9==t||11==t?31:1==t?i%4==0&&i%100!=0||i%400==0?29:28:30}var s="string"==typeof t&&-1!=t.indexOf(",")?t.split(","):[],a=6==s.length?new Date(s[0],[s[1]-1],s[2],s[3],s[4],s[5]):3==s.length?new Date(s[0],[s[1]-1],s[2]):new Date,o={Y:a.getFullYear(),M:a.getMonth()+1,D:a.getDate(),w:a.getDay(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(dateObj={date:o,Y:[],M:[],D:[],h:[],m:[],s:[]},i=o.Y-4;i<o.Y+5;i++)dateObj.Y.push({Y:i});for(i=1;i<=12;i++)dateObj.M.push({Y:new Date(o.Y,[i-1],o.D).getFullYear(),M:new Date(o.Y,[i-1],o.D).getMonth()+1,name:["一月,January ","二月,February","三月,March","四月,April","五月,May ","六月,June ","七月,July","八月,August ","九月,September ","十月,October ","十一月,November","十二月,December"][new Date(o.Y,[i-1],o.D).getMonth()]});for(i=e(o.Y,o.M-2)-new Date(o.Y,o.M-1,1).getDay()+1;i<=e(o.Y,o.M-2);i++)dateObj.D.push({Y:new Date(o.Y,o.M-2,i).getFullYear(),M:new Date(o.Y,o.M-2,i).getMonth()+1,D:new Date(o.Y,o.M-2,i).getDate(),W:new Date(o.Y,o.M-2,i).getDay()});for(i=1;i<=e(o.Y,o.M-1);i++)dateObj.D.push({Y:new Date(o.Y,o.M-1,i).getFullYear(),M:new Date(o.Y,o.M-1,i).getMonth()+1,D:new Date(o.Y,o.M-1,i).getDate(),W:new Date(o.Y,o.M-1,i).getDay()});var n=dateObj.D.length<35?14:7;for(i=1;i<=n-new Date(o.Y,o.M,1).getDay();i++)dateObj.D.push({Y:new Date(o.Y,o.M,i).getFullYear(),M:new Date(o.Y,o.M,i).getMonth()+1,D:new Date(o.Y,o.M,i).getDate(),W:new Date(o.Y,o.M,i).getDay()});for(i=0;i<24;i++)dateObj.h.push({date:i,active:i==o.h});for(i=1;i<60;i++)dateObj.m.push({date:i,active:i==o.m});for(i=1;i<60;i++)dateObj.s.push({date:i,active:i==o.s});vm.$set("dateObj",dateObj),buijs.datetimepicker.setModalHtml(dateObj)},setModalHtml:function(t){var e='<div class="bui_bgc_'+buijs.datetimepicker.el.data().color+' bui_media  bui_fc_white_a bui_vm">\t<a href="javascript:buijs.datetimepicker.setModalObj(\''+t.date.Y+","+[t.date.M-1]+","+t.date.D+","+t.date.h+","+t.date.m+","+t.date.s+'\')" class="bui_media_l bui_p_12 bui_p_48_tb_sm bui_fc_white bui_fc_white_f_h">\t\t<i class="bi bi_navigate_before bui_fs_48"></i>\t</a>\t<div class="bui_media_b">\t\t<a href="javascript:;" buijs-datetimepicker-modal-showyear class="bui_fs_48_sm bui_fs_24 bui_fc_white_f_h bui_block">'+t.date.Y+'</a>\t\t<a href="javascript:;" buijs-datetimepicker-modal-showmonth class="bui_fs_16 bui_fc_white_f_h bui_block">'+buijs.datetimepicker.monthName[t.date.M-1].cn+"\t\t</a>\t</div>\t<a href=\"javascript:buijs.datetimepicker.setModalObj('"+t.date.Y+","+[t.date.M+1]+","+t.date.D+","+t.date.h+","+t.date.m+","+t.date.s+'\')"  class="bui_media_r bui_p_12 bui_p_48_tb_sm bui_fc_white_f_h">\t\t<i class="bi bi_navigate_next bui_fs_48"></i>\t</a></div>',s="";for(i=[t.date.Y-100];i<[t.date.Y+99];i++)className=i==t.date.Y?"bui_bgc_"+buijs.datetimepicker.el.data().color+" bui_fc_white":"bui_fc_black bui_bgc_silver_l_h",s+="<a href=\"javascript:buijs.datetimepicker.setModalObj('"+i+","+t.date.M+","+t.date.D+","+t.date.h+","+t.date.m+","+t.date.s+"');$('[buijs-datetimepicker-modal-year]').hide();\" class=\""+className+'"><div class="bui_media_b bui_p_24_tb">'+i+"</div></a>";var a="";$.map(buijs.datetimepicker.monthName,function(i,e){className=e+1==t.date.M?"bui_bgc_"+buijs.datetimepicker.el.data().color+" bui_fc_white":"bui_fc_black bui_bgc_silver_l_h",a+="<div><a href=\"javascript:buijs.datetimepicker.setModalObj('"+t.date.Y+","+[e+1]+","+t.date.D+","+t.date.h+","+t.date.m+","+t.date.s+'\');" class="bui_media bui_vm  '+className+'" style="height:100%;"><div class="bui_media_b"><p class="bui_fs_16">'+i.cn+'</p><p class="bui_fs_12 bui_fc_silver_f">'+i.en+"</p></div></a></div>"});var o=hArray=mArray=sArray="";for(i=0;i<24;i++)isSelect=i==t.date.h?"selected":"",hArray+="<option "+isSelect+' value="'+i+'">'+i+"</option>";for(i=0;i<60;i++)isSelect=i==t.date.m?"selected":"",mArray+="<option "+isSelect+' value="'+i+'">'+i+"</option>";for(i=0;i<60;i++)isSelect=i==t.date.s?"selected":"",sArray+="<option "+isSelect+' value="'+i+'">'+i+"</option>";o="datetime"==buijs.datetimepicker.el.data().format?'<div class="bui_bds_1 bui_bdc_silver_l bui_bgc_white bui_p_12">\t<div class="bui_avg_3 bui_row_p_12">\t\t<div><p class="bui_fs_12 bui_fc_silver bui_ta_l">Hour</p><div class="bui_ipt bui_block bui_ipt_32"><select buijs-datetimepicker-modal-select-h>'+hArray+'</select></div></div>\t\t<div><p class="bui_fs_12 bui_fc_silver bui_ta_l">Minute</p><div class="bui_ipt bui_block bui_ipt_32"><select buijs-datetimepicker-modal-select-m>'+mArray+'</select></div></div>\t\t<div><p class="bui_fs_12 bui_fc_silver bui_ta_l">Second</p><div class="bui_ipt bui_block bui_ipt_32"><select buijs-datetimepicker-modal-select-s>'+sArray+'</select></div></div>\t</div>\t<div class="bui_ta_c bui_p_12_t">\t\t<button class="bui_btn bui_btn_48 bui_block bui_bgc_'+buijs.datetimepicker.el.data().color+'" onclick="buijs.datetimepicker.setDate(\''+t.date.Y+","+t.date.M+","+t.date.D+","+t.date.h+","+t.date.m+","+t.date.s+"')\">OK</button>\t</div></div>":"";var n="";$.map(buijs.datetimepicker.weekName,function(i,t){n+='<div><div class="bui_p_6 bui_fs_14 '+(0==t||6==t?"bui_fc_red":"bui_fc_black")+'"><strong>'+i.en+"</strong></div></div>"});var r="";$.map(t.D,function(i){var e=i.M!=t.date.M?"bui_fc_silver bui_bgc_silver_f_h bui_fc_white_h":i.D==t.date.D?"bui_bgc_"+buijs.datetimepicker.el.data().color+" bui_fc_white":"bui_bgc_silver_f_h bui_fc_white_h bui_fc_black";"datetime"==buijs.datetimepicker.el.data().format?r+="<div><a href=\"javascript:buijs.datetimepicker.setModalObj('"+i.Y+","+i.M+","+i.D+","+t.date.h+","+t.date.m+","+t.date.s+'\');" class="bui_block bui_p_6_sm bui_fs_16 '+e+'" buijs-datetimepicker-modal-post style="cursor: pointer;">'+i.D+"</a></div>":r+="<div><a href=\"javascript:buijs.datetimepicker.setDate('"+i.Y+","+i.M+","+i.D+","+t.date.h+","+t.date.m+","+t.date.s+'\');" class="bui_block bui_p_6_sm bui_fs_16 '+e+'" buijs-datetimepicker-modal-post style="cursor: pointer;">'+i.D+"</a></div>"}),$("[buijs-datetimepicker-modal] [bui_modal_h]").html(e),$("[buijs-datetimepicker-modal] [bui_modal_b]").html('\t<div class="bui_p_32_sm bui_p_12 bui_bgc_white" buijs-datetimepicker-modal-date>\t\t<div class="bui_avg_7 bui_row_p_6 ">'+n+r+'\t\t</div>\t</div><div buijs-datetimepicker-modal-year class="bui_bgc_white" style="position: absolute;left: 0;right: 0;top: 0;bottom: 0;display: none;z-index:1;"><div style="height:100%;overflow-y:auto;"><div class="bui_avg_3">'+s+'</div></div></div><div buijs-datetimepicker-modal-month class="bui_bgc_white" style="position: absolute;left: 0;right: 0;top: 0;bottom: 0;display: none;z-index:1;"><div style="height:100%;" class="bui_avg_3">'+a+"</div></div></div>"),$("[buijs-datetimepicker-modal] [bui_modal_f]").html(o),$("[buijs-datetimepicker-modal-showyear]").unbind().bind("click",function(){$("[buijs-datetimepicker-modal-year]").fadeIn(300,function(){var i=$("[buijs-datetimepicker-modal-year] .bui_bgc_"+buijs.datetimepicker.el.data().color).offset().top-2*$("[buijs-datetimepicker-modal-year] .bui_bgc_"+buijs.datetimepicker.el.data().color).height()-$("[buijs-datetimepicker-modal-year]").offset().top;$("[buijs-datetimepicker-modal-year] > div").animate({scrollTop:i},300)})}),$("[buijs-datetimepicker-modal-showmonth]").unbind().bind("click",function(){$("[buijs-datetimepicker-modal-month]").fadeIn(300)}),$("[buijs-datetimepicker-modal-select-h]").unbind().bind("input",function(i){buijs.datetimepicker.setModalObj(t.date.Y+","+t.date.M+","+t.date.D+","+$(this).children(":selected").val()+","+t.date.m+","+t.date.s)}),$("[buijs-datetimepicker-modal-select-m]").unbind().bind("input",function(i){buijs.datetimepicker.setModalObj(t.date.Y+","+t.date.M+","+t.date.D+","+t.date.h+","+$(this).children(":selected").val()+","+t.date.s)}),$("[buijs-datetimepicker-modal-select-s]").unbind().bind("input",function(i){buijs.datetimepicker.setModalObj(t.date.Y+","+t.date.M+","+t.date.D+","+t.date.h+","+t.date.m+","+$(this).children(":selected").val())})},setDate:function(i){buijs.modal.remove("buijs-datetimepicker-modal");var t=buijs.datetimepicker.el;t.data().date=i,t.val(buijs.datetimepicker.format(i,t.data().format))}}};